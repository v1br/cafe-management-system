import{r as o,n as e}from"./components-DsaIHRdB.js";import{N as u}from"./navbar-B8fM27GP.js";function h(){const[n,l]=o.useState([]);o.useEffect(()=>{const t=JSON.parse(localStorage.getItem("cart")||"[]");l(t)},[]);const c=(t,r)=>{const s=n.map(a=>a.id===t?{...a,quantity:r>0?r:a.quantity}:a);l(s),localStorage.setItem("cart",JSON.stringify(s))},i=t=>{const r=n.filter(s=>s.id!==t);l(r),localStorage.setItem("cart",JSON.stringify(r))},d=()=>{l([]),localStorage.removeItem("cart")},m=()=>{const t=n.reduce((s,a)=>s+a.price*a.quantity,0),r=t*.05;return(t+r).toFixed(2)};return e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsxs("main",{className:"w-3/4 m-auto",children:[e.jsx("h1",{className:"text-3xl font-bold my-8",children:"Your Cart"}),n.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 p-4",children:n.map(t=>e.jsxs("div",{className:"flex items-center bg-white shadow-md rounded-lg overflow-hidden w-full h-32 px-4",children:[e.jsx("img",{src:t.image_url,alt:t.name,className:"w-24 h-24 object-cover flex-shrink-0 mr-4 rounded-md"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h2",{className:"text-sm font-bold",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-700",children:["₹",t.price]}),e.jsxs("div",{className:"flex items-center my-2",children:[e.jsx("label",{htmlFor:`quantity-${t.id}`,className:"text-sm font-medium mr-2",children:"Quantity:"}),e.jsx("input",{type:"number",value:t.quantity,min:"1",onChange:r=>c(t.id,Number.parseInt(r.target.value,10)),className:"bg-gray-100 px-2 py-1 rounded-md w-16"}),e.jsx("button",{type:"button",onClick:()=>i(t.id),className:"ml-4 text-xs text-red-500 font-bold hover:scale-110",children:"X"})]})]})]},t.id))}),e.jsxs("div",{className:"mt-8 mx-4 p-4 bg-gray-100 rounded-lg shadow-md",children:[e.jsxs("p",{className:"text-lg font-medium",children:["Total Bill (including GST): ₹",m()]}),e.jsxs("div",{className:"flex gap-4 mt-8",children:[e.jsx("button",{type:"button",onClick:d,className:"lg:hidden bg-red-500 text-white px-4 py-2 rounded-md font-medium hover:bg-red-600",children:"Clear"}),e.jsx("button",{type:"button",onClick:()=>alert(`Thank you for placing an order!

{This is a dummy alert, to be redirected to the external payment portal via backend microservice...}`),className:"lg:hidden bg-green-500 text-white px-4 py-2 rounded-md font-medium hover:bg-green-600",children:"Confirm"}),e.jsx("button",{type:"button",onClick:d,className:"hidden lg:block bg-red-500 text-white px-4 py-2 rounded-md font-medium hover:bg-red-600",children:"Clear Cart"}),e.jsx("button",{type:"button",onClick:()=>alert(`Thank you for placing an order!

{This is a dummy alert, to be redirected to the external payment portal via backend microservice...}`),className:"hidden lg:block bg-green-500 text-white px-4 py-2 rounded-md font-medium hover:bg-green-600",children:"Place Order"})]})]})]}):e.jsx("p",{className:"text-lg font-medium",children:"Your cart is empty!"})]})]})}export{h as default};
